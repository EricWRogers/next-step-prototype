<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Floating Bottom Nav</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://unpkg.com/lucide@latest"></script>
  <script src="nav-bar/bar-script.js"></script>
</head>
<body>

    <div class="top-bar">
        <div class="user-info">
            <div class="avatar"><i data-lucide="user"></i></div>
            <span class="greeting">Hello, Mellow!</span>
        </div>
        <div class="top-icon"><i data-lucide="search"></i></div>
        <div class="top-icon"><i data-lucide="bell"></i></div> 
    </div>


    <div class="color-grid" id="dashboard-content">
        <div class="top-block"></div>
        <div class="color-box" style="background-color: #fde2cf;"></div>
        <div class="color-box" style="background-color: #e4deff;"></div>
        <div class="color-box" style="background-color: #cdf1ef;"></div>
        <div class="color-box" style="background-color: #fa5c5c;"></div>
    </div>

    <div id="nav-bar-container"></div>

    <script language="javascript">
    fetch('nav-bar/bar.html')
        .then(response => response.text())
        .then(html => {
            document.getElementById('nav-bar-container').innerHTML = html;
            lucide.createIcons();
            bar_init();
            
            const dashboard = document.getElementById('dashboard-content');

            // Listen for nav-change event
            window.addEventListener('nav-change', (e) => {
                const index = e.detail.index;
                dashboard.style.display = index === 0 ? 'grid' : 'none';
                console.log(index)
            });

            // Initial state
            dashboard.style.display = 'grid';
        });
    </script>
</body>
</html>

