<script src="https://unpkg.com/lucide@latest"></script>

<script type="module">
  import "./components/pb-client.js";
  import "./components/top-bar.js";
  import "./components/app-shell.js";
  import "./components/rooms-view.js";
  import "./components/chat-view.js";
  import {bar_init} from './nav-bar/bar-script.js';
  // import events/todo/dashboard components too...

  // keep your nav-bar fetch/init as-is for now
</script>

<body>
  <ns-top-bar></ns-top-bar>

  <ns-app-shell></ns-app-shell>

  <div id="nav-bar-container"></div>
  <script>
    fetch("nav-bar/bar.html")
      .then(r => r.text())
      .then(html => {
        document.getElementById("nav-bar-container").innerHTML = html;
        lucide.createIcons();
        bar_init();
      });
  </script>
</body>
